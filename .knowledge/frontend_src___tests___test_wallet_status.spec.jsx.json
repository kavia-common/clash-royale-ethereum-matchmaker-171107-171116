{"is_source_file": true, "format": "JavaScript (React JSX)", "description": "This file contains unit tests for the WalletStatus React component, specifically testing Ethereum wallet connection logic, including mock setup for ethereum provider interactions, user actions, and UI state assertions.", "external_files": ["../components/WalletStatus", "@testing-library/react", "@testing-library/user-event", "jest"], "external_methods": ["jest.fn", "jest.resetAllMocks", "Object.defineProperty", "expect", "screen.getByText", "screen.getByRole", "screen.findByTestId", "screen.findByRole", "render", "waitFor", "userEvent.click"], "published": [], "classes": [], "methods": [{"name": "installEthereumMock({ accounts = [ethers.utils.getAddress('0x1234567890abcdef1234567890abcdef12345678')], chainId = '0x1' } = {})", "description": "Helper function to install a mock ethereum provider on the window.ethereum object, simulating typical Ethereum JSON-RPC methods and event listeners for testing purposes.", "scope": "", "scopeKind": ""}, {"name": "__emit(event, ...args)", "scope": "installEthereumMock.ethMock", "scopeKind": "class", "description": "unavailable"}], "calls": ["jest.resetAllMocks", "delete window.ethereum", "installEthereumMock()", "render(<WalletStatus />)", "expect(screen.getByText(/Disconnected/i)).toBeInTheDocument()", "screen.getByRole('button', { name: /connect ethereum wallet/i })", "userEvent.click(connectBtn)", "waitFor(() => expect(screen.getByText(/Connected/i)).toBeInTheDocument())", "screen.findByTestId('wallet-address')", "expect(addr.textContent).toMatch(/^0x1234\u20265678$/)", "screen.getByRole('button', { name: /disconnect ethereum wallet/i })", "userEvent.click(disconnectBtn)"], "search-terms": ["WalletStatus component", "ethereum mock", "eth_accounts", "connect wallet", "disconnect wallet", "React testing", "unit tests"], "state": 2, "file_id": 26, "knowledge_revision": 86, "git_revision": "", "ctags": [{"_type": "tag", "name": "__emit", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/__tests__/test_wallet_status.spec.jsx", "pattern": "/^    __emit(event, ...args) {$/", "language": "JavaScript", "kind": "method", "signature": "(event, ...args)", "scope": "installEthereumMock.ethMock", "scopeKind": "class"}, {"_type": "tag", "name": "ethMock", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/__tests__/test_wallet_status.spec.jsx", "pattern": "/^  const ethMock = {$/", "language": "JavaScript", "kind": "class", "scope": "installEthereumMock", "scopeKind": "class"}, {"_type": "tag", "name": "installEthereumMock", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/__tests__/test_wallet_status.spec.jsx", "pattern": "/^function installEthereumMock({ accounts = [ethers.utils.getAddress('0x1234567890abcdef1234567890/", "language": "JavaScript", "kind": "function", "signature": "({ accounts = [ethers.utils.getAddress('0x1234567890abcdef1234567890abcdef12345678')], chainId = '0x1' } = {})"}, {"_type": "tag", "name": "on", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/__tests__/test_wallet_status.spec.jsx", "pattern": "/^    on: jest.fn((event, cb) => {$/", "language": "JavaScript", "kind": "property", "scope": "installEthereumMock.ethMock", "scopeKind": "class"}, {"_type": "tag", "name": "removeListener", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/__tests__/test_wallet_status.spec.jsx", "pattern": "/^    removeListener: jest.fn((event, cb) => {$/", "language": "JavaScript", "kind": "property", "scope": "installEthereumMock.ethMock", "scopeKind": "class"}, {"_type": "tag", "name": "request", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/__tests__/test_wallet_status.spec.jsx", "pattern": "/^    request: jest.fn(async ({ method }) => {$/", "language": "JavaScript", "kind": "property", "scope": "installEthereumMock.ethMock", "scopeKind": "class"}], "hash": "5c1fb35596a727999e26dafa63573c37", "format-version": 4, "code-base-name": "frontend", "filename": "frontend/src/__tests__/test_wallet_status.spec.jsx", "fields": [{"name": "on: jest.fn((event, cb) => {", "scope": "installEthereumMock.ethMock", "scopeKind": "class", "description": "unavailable"}, {"name": "removeListener: jest.fn((event, cb) => {", "scope": "installEthereumMock.ethMock", "scopeKind": "class", "description": "unavailable"}, {"name": "request: jest.fn(async ({ method }) => {", "scope": "installEthereumMock.ethMock", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"86": ""}]}