{"is_source_file": true, "format": "JavaScript", "description": "This is a JavaScript source file defining an API client for a frontend application. It provides functions to communicate with a backend server, including endpoints for live wagers, game history, user profiles, account linking, match creation and status, and Clash Royale related data. The file includes utility functions for making fetch requests and handling responses, emphasizing environment-based configuration and security considerations.", "external_files": ["fetch API (built-in browser feature)"], "external_methods": ["fetch()"], "published": ["apiGetLiveWagers", "apiGetGameHistory", "apiGetProfiles", "apiLinkAccount", "apiCreateMatch", "apiConfirmDeposit", "apiGetMatchStatus", "apiGetCRPlayer", "apiGetCRFavoriteCards"], "classes": [], "methods": [{"name": "request(path, { method = 'GET', headers = {}, body, signal } = {})", "description": "Utility function to perform HTTP requests with fetch, handle JSON parsing, and error handling.", "scope": "", "scopeKind": ""}, {"name": "apiGetLiveWagers()", "description": "Fetch the current list of live game wagers from the backend.", "scope": "", "scopeKind": ""}, {"name": "apiGetGameHistory()", "description": "Fetch a user's game history, including stats and game list.", "scope": "", "scopeKind": ""}, {"name": "apiGetProfiles({ minWager, maxWager } = {})", "description": "Retrieve a list of user profiles, optionally filtered by wager range.", "scope": "", "scopeKind": ""}, {"name": "apiLinkAccount({ tag, token, walletAddress } = {})", "description": "Link a Clash Royale account or token to the current user.", "scope": "", "scopeKind": ""}, {"name": "apiCreateMatch({ opponentId, wagerEth })", "description": "Create a match intent for escrow workflows, returning a match or intent ID.", "scope": "", "scopeKind": ""}, {"name": "apiConfirmDeposit({ matchId, txHash })", "description": "Notify the backend that escrow deposit transaction has been submitted and confirmed.", "scope": "", "scopeKind": ""}, {"name": "apiGetMatchStatus({ matchId })", "description": "Poll to retrieve current status of a specific match.", "scope": "", "scopeKind": ""}, {"name": "apiGetCRPlayer({ tag, token } = {})", "description": "Fetch Clash Royale player profile via backend proxy using player tag.", "scope": "", "scopeKind": ""}, {"name": "apiGetCRFavoriteCards({ tag, token } = {})", "description": "Retrieve favorite cards or deck summary for a Clash Royale player via backend.", "scope": "", "scopeKind": ""}], "calls": ["request()", "fetch()"], "search-terms": ["apiClient", "fetch wrapper", "Clash Royale backend proxy", "matchmaking API", "game history fetch", "profile filtering", "account linking", "deposit confirmation", "match status", "Supercell API proxy"], "state": 2, "file_id": 23, "knowledge_revision": 170, "git_revision": "4997f6435aaf7627c826c7fcb3de9682fe87ca6f", "revision_history": [{"56": ""}, {"141": "79c2038917412dd6dfd35218c571cd63b13c57d0"}, {"142": "79c2038917412dd6dfd35218c571cd63b13c57d0"}, {"170": "4997f6435aaf7627c826c7fcb3de9682fe87ca6f"}], "ctags": [{"_type": "tag", "name": "BASE_URL", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/api.js", "pattern": "/^const BASE_URL = process.env.REACT_APP_API_URL || '';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "apiConfirmDeposit", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/api.js", "pattern": "/^export async function apiConfirmDeposit({ matchId, txHash }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ matchId, txHash })"}, {"_type": "tag", "name": "apiCreateMatch", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/api.js", "pattern": "/^export async function apiCreateMatch({ opponentId, wagerEth }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ opponentId, wagerEth })"}, {"_type": "tag", "name": "apiGetCRFavoriteCards", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/api.js", "pattern": "/^export async function apiGetCRFavoriteCards({ tag, token } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "({ tag, token } = {})"}, {"_type": "tag", "name": "apiGetCRPlayer", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/api.js", "pattern": "/^export async function apiGetCRPlayer({ tag, token } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "({ tag, token } = {})"}, {"_type": "tag", "name": "apiGetGameHistory", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/api.js", "pattern": "/^export async function apiGetGameHistory() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "apiGetLiveWagers", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/api.js", "pattern": "/^export async function apiGetLiveWagers() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "apiGetMatchStatus", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/api.js", "pattern": "/^export async function apiGetMatchStatus({ matchId }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ matchId })"}, {"_type": "tag", "name": "apiGetProfiles", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/api.js", "pattern": "/^export async function apiGetProfiles({ minWager, maxWager } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "({ minWager, maxWager } = {})"}, {"_type": "tag", "name": "apiLinkAccount", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/api.js", "pattern": "/^export async function apiLinkAccount({ tag, token, walletAddress } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "({ tag, token, walletAddress } = {})"}, {"_type": "tag", "name": "method", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/api.js", "pattern": "/^    method,$/", "language": "JavaScript", "kind": "field", "scope": "request.init", "scopeKind": "class"}, {"_type": "tag", "name": "request", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/api.js", "pattern": "/^async function request(path, { method = 'GET', headers = {}, body, signal } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, { method = 'GET', headers = {}, body, signal } = {})"}], "hash": "341bc504e4e83f0dac6100e337ad82c4", "format-version": 4, "code-base-name": "frontend", "filename": "frontend/src/services/api.js", "fields": [{"name": "method,", "scope": "request.init", "scopeKind": "class", "description": "unavailable"}]}