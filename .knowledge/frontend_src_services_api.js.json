{"is_source_file": true, "format": "JavaScript", "description": "This file defines an API client for a frontend project communicating with a backend server. It includes classes, typedefs, and functions to perform API requests, handle errors, and provide typed interfaces for various backend endpoints related to user profiles, game wagers, Clash Royale integration, and escrow status.", "external_files": [], "external_methods": ["fetch"], "published": ["createApiClient", "ApiError", "apiGetLiveWagers", "apiGetGameHistory", "apiGetProfiles", "apiLinkAccount", "apiCreateMatch", "apiConfirmDeposit", "apiGetMatchStatus", "apiGetCRPlayer", "apiGetCRFavoriteCards", "default"], "classes": [{"name": "ApiError", "description": "Custom error class for API errors, including additional fields like status, code, details, and data."}], "methods": [{"name": "createApiClient(baseUrl = BASE_URL)", "description": "Factory function that returns an object with typed methods for API interactions, bound to a specified base URL.", "scope": "", "scopeKind": ""}, {"name": "apiConfirmDeposit({ matchId, txHash })", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "apiCreateMatch({ opponentId, wagerEth })", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "apiGetCRFavoriteCards({ tag, token } = {})", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "apiGetCRPlayer({ tag, token } = {})", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "apiGetGameHistory()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "apiGetLiveWagers()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "apiGetMatchStatus({ matchId })", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "apiGetProfiles({ minWager, maxWager } = {})", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "apiLinkAccount({ tag, token, walletAddress } = {})", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "cancelWager({ id, reason })", "scope": "createApiClient", "scopeKind": "function", "description": "unavailable"}, {"name": "confirmWager({ id })", "scope": "createApiClient", "scopeKind": "function", "description": "unavailable"}, {"name": "constructor(message, { status, code, details, data } = {})", "scope": "ApiError", "scopeKind": "class", "description": "unavailable"}, {"name": "crLink({ tag, token })", "scope": "createApiClient", "scopeKind": "function", "description": "unavailable"}, {"name": "crMe()", "scope": "createApiClient", "scopeKind": "function", "description": "unavailable"}, {"name": "depositNotify({ id, txHash, amountEth })", "scope": "createApiClient", "scopeKind": "function", "description": "unavailable"}, {"name": "getCRFavoriteCards({ tag, token } = {})", "scope": "createApiClient", "scopeKind": "function", "description": "unavailable"}, {"name": "getCRPlayer({ tag, token } = {})", "scope": "createApiClient", "scopeKind": "function", "description": "unavailable"}, {"name": "getEscrowConfig()", "scope": "createApiClient", "scopeKind": "function", "description": "unavailable"}, {"name": "getEscrowStatus({ wagerId })", "scope": "createApiClient", "scopeKind": "function", "description": "unavailable"}, {"name": "getLiveWagers()", "scope": "createApiClient", "scopeKind": "function", "description": "unavailable"}, {"name": "getProfiles({ minWager, maxWager, cursor } = {})", "scope": "createApiClient", "scopeKind": "function", "description": "unavailable"}, {"name": "getSessionMe()", "scope": "createApiClient", "scopeKind": "function", "description": "unavailable"}, {"name": "getWagerHistory()", "scope": "createApiClient", "scopeKind": "function", "description": "unavailable"}, {"name": "getWalletNonce(address)", "scope": "createApiClient", "scopeKind": "function", "description": "unavailable"}, {"name": "initiateWager({ opponentId, wagerEth })", "scope": "createApiClient", "scopeKind": "function", "description": "unavailable"}, {"name": "postWagerResult({ id, result, proof })", "scope": "createApiClient", "scopeKind": "function", "description": "unavailable"}, {"name": "request(baseUrl, path, { method = \"GET\", headers = {}, body, signal, parseText = false } = {})", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "safeJson(text)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "verifyWalletSignature({ address, signature })", "scope": "createApiClient", "scopeKind": "function", "description": "unavailable"}], "calls": ["fetch", "request", "safeJson"], "search-terms": ["API client", "fetch wrapper", "API error handling", "Wager models", "Clash Royale API proxy", "env-based base URL", "typed endpoint methods"], "state": 2, "file_id": 23, "knowledge_revision": 202, "git_revision": "10842fc458e4ee4a3ecd07d6cce15f48aa9567b6", "revision_history": [{"56": ""}, {"141": "79c2038917412dd6dfd35218c571cd63b13c57d0"}, {"142": "79c2038917412dd6dfd35218c571cd63b13c57d0"}, {"170": "4997f6435aaf7627c826c7fcb3de9682fe87ca6f"}, {"202": "10842fc458e4ee4a3ecd07d6cce15f48aa9567b6"}], "ctags": [{"_type": "tag", "name": "ApiError", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/api.js", "pattern": "/^export class ApiError extends Error {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "BASE_URL", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/api.js", "pattern": "/^const BASE_URL = process.env.REACT_APP_API_URL || \"\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "apiConfirmDeposit", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/api.js", "pattern": "/^export async function apiConfirmDeposit({ matchId, txHash }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ matchId, txHash })"}, {"_type": "tag", "name": "apiCreateMatch", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/api.js", "pattern": "/^export async function apiCreateMatch({ opponentId, wagerEth }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ opponentId, wagerEth })"}, {"_type": "tag", "name": "apiGetCRFavoriteCards", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/api.js", "pattern": "/^export async function apiGetCRFavoriteCards({ tag, token } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "({ tag, token } = {})"}, {"_type": "tag", "name": "apiGetCRPlayer", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/api.js", "pattern": "/^export async function apiGetCRPlayer({ tag, token } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "({ tag, token } = {})"}, {"_type": "tag", "name": "apiGetGameHistory", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/api.js", "pattern": "/^export async function apiGetGameHistory() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "apiGetLiveWagers", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/api.js", "pattern": "/^export async function apiGetLiveWagers() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "apiGetMatchStatus", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/api.js", "pattern": "/^export async function apiGetMatchStatus({ matchId }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ matchId })"}, {"_type": "tag", "name": "apiGetProfiles", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/api.js", "pattern": "/^export async function apiGetProfiles({ minWager, maxWager } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "({ minWager, maxWager } = {})"}, {"_type": "tag", "name": "apiLinkAccount", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/api.js", "pattern": "/^export async function apiLinkAccount({ tag, token, walletAddress } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "({ tag, token, walletAddress } = {})"}, {"_type": "tag", "name": "cancelWager", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/api.js", "pattern": "/^  async function cancelWager({ id, reason }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ id, reason })", "scope": "createApiClient", "scopeKind": "function"}, {"_type": "tag", "name": "confirmWager", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/api.js", "pattern": "/^  async function confirmWager({ id }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ id })", "scope": "createApiClient", "scopeKind": "function"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/api.js", "pattern": "/^  constructor(message, { status, code, details, data } = {}) {$/", "language": "JavaScript", "kind": "method", "signature": "(message, { status, code, details, data } = {})", "scope": "ApiError", "scopeKind": "class"}, {"_type": "tag", "name": "crLink", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/api.js", "pattern": "/^  async function crLink({ tag, token }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ tag, token })", "scope": "createApiClient", "scopeKind": "function"}, {"_type": "tag", "name": "crMe", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/api.js", "pattern": "/^  async function crMe() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "createApiClient", "scopeKind": "function"}, {"_type": "tag", "name": "createApiClient", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/api.js", "pattern": "/^export function createApiClient(baseUrl = BASE_URL) {$/", "language": "JavaScript", "kind": "function", "signature": "(baseUrl = BASE_URL)"}, {"_type": "tag", "name": "depositNotify", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/api.js", "pattern": "/^  async function depositNotify({ id, txHash, amountEth }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ id, txHash, amountEth })", "scope": "createApiClient", "scopeKind": "function"}, {"_type": "tag", "name": "getCRFavoriteCards", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/api.js", "pattern": "/^  async function getCRFavoriteCards({ tag, token } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "({ tag, token } = {})", "scope": "createApiClient", "scopeKind": "function"}, {"_type": "tag", "name": "getCRPlayer", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/api.js", "pattern": "/^  async function getCRPlayer({ tag, token } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "({ tag, token } = {})", "scope": "createApiClient", "scopeKind": "function"}, {"_type": "tag", "name": "getEscrowConfig", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/api.js", "pattern": "/^  async function getEscrowConfig() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "createApiClient", "scopeKind": "function"}, {"_type": "tag", "name": "getEscrowStatus", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/api.js", "pattern": "/^  async function getEscrowStatus({ wagerId }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ wagerId })", "scope": "createApiClient", "scopeKind": "function"}, {"_type": "tag", "name": "getLiveWagers", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/api.js", "pattern": "/^  async function getLiveWagers() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "createApiClient", "scopeKind": "function"}, {"_type": "tag", "name": "getProfiles", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/api.js", "pattern": "/^  async function getProfiles({ minWager, maxWager, cursor } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "({ minWager, maxWager, cursor } = {})", "scope": "createApiClient", "scopeKind": "function"}, {"_type": "tag", "name": "getSessionMe", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/api.js", "pattern": "/^  async function getSessionMe() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "createApiClient", "scopeKind": "function"}, {"_type": "tag", "name": "getWagerHistory", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/api.js", "pattern": "/^  async function getWagerHistory() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "createApiClient", "scopeKind": "function"}, {"_type": "tag", "name": "getWalletNonce", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/api.js", "pattern": "/^  async function getWalletNonce(address) {$/", "language": "JavaScript", "kind": "function", "signature": "(address)", "scope": "createApiClient", "scopeKind": "function"}, {"_type": "tag", "name": "initiateWager", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/api.js", "pattern": "/^  async function initiateWager({ opponentId, wagerEth }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ opponentId, wagerEth })", "scope": "createApiClient", "scopeKind": "function"}, {"_type": "tag", "name": "method", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/api.js", "pattern": "/^    method,$/", "language": "JavaScript", "kind": "field", "scope": "request.init", "scopeKind": "class"}, {"_type": "tag", "name": "postWagerResult", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/api.js", "pattern": "/^  async function postWagerResult({ id, result, proof }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ id, result, proof })", "scope": "createApiClient", "scopeKind": "function"}, {"_type": "tag", "name": "request", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/api.js", "pattern": "/^async function request(baseUrl, path, { method = \"GET\", headers = {}, body, signal, parseText = /", "language": "JavaScript", "kind": "function", "signature": "(baseUrl, path, { method = \"GET\", headers = {}, body, signal, parseText = false } = {})"}, {"_type": "tag", "name": "safeJson", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/api.js", "pattern": "/^function safeJson(text) {$/", "language": "JavaScript", "kind": "function", "signature": "(text)"}, {"_type": "tag", "name": "verifyWalletSignature", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/api.js", "pattern": "/^  async function verifyWalletSignature({ address, signature }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ address, signature })", "scope": "createApiClient", "scopeKind": "function"}], "hash": "37d275646ac1dbccf4ee2014fee36054", "format-version": 4, "code-base-name": "frontend", "filename": "frontend/src/services/api.js", "fields": [{"name": "method,", "scope": "request.init", "scopeKind": "class", "description": "unavailable"}]}