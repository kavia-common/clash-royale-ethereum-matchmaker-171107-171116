{"is_source_file": true, "format": "JavaScript", "description": "This file defines a JavaScript module that provides a wrapper class 'BlockchainClient' for interacting with an Ethereum-based escrow smart contract via ethers.js. It includes environment configuration handling, connection management, network and account info retrieval, and deposit transaction functions tailored for a blockchain deposit flow within a frontend application.", "external_files": ["ethers"], "external_methods": ["ethers.utils.parseEther", "ethers.Contract"], "published": ["BlockchainClient", "sendEscrowDeposit"], "classes": [{"name": "BlockchainClient", "description": "A wrapper class around ethers.js to facilitate interactions with the escrow smart contract, including connecting to provider, retrieving network/account info, and sending deposit transactions."}], "methods": [{"name": "connectProvider(signer)", "description": "Assigns a new signer/provider to the client, enabling subsequent blockchain interactions.", "scope": "BlockchainClient", "scopeKind": "class"}, {"name": "getNetwork()", "description": "Asynchronously retrieves current network information (chain ID and name) from the signer/provider.", "scope": "BlockchainClient", "scopeKind": "class"}, {"name": "getAccount()", "description": "Retrieves the current connected account address from the signer.", "scope": "BlockchainClient", "scopeKind": "class"}, {"name": "deposit({ wagerId, amountEth, options } = {})", "description": "Executes a deposit transaction to the escrow contract for a specified wager ID and amount of ETH, returning transaction hash and receipt.", "scope": "BlockchainClient", "scopeKind": "class"}, {"name": "formatTxLink(txHash)", "description": "Generates a URL link to a blockchain explorer for a given transaction hash based on environment configuration.", "scope": "BlockchainClient", "scopeKind": "class"}, {"name": "constructor({ escrowAddress, escrowAbi, signer } = {})", "scope": "BlockchainClient", "scopeKind": "class", "description": "unavailable"}, {"name": "getEnv(key)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "sendEscrowDeposit({ signer, matchId, amountEth, escrowAddress = ENV.ESCROW_ADDRESS, escrowAbi = DEFAULT_ESCROW_ABI })", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["ethers.utils.parseEther", "ethers.Contract.deposit", "ethers.Contract.wait", "provider.getNetwork", "signer.getAddress"], "search-terms": ["ethers.js", "BlockchainClient", "deposit flow", "escrow contract", "environment variables", "deposit method", "block explorer link", "wagerId", "ETH deposit", "frontend blockchain service"], "state": 2, "file_id": 24, "knowledge_revision": 203, "git_revision": "79c2038917412dd6dfd35218c571cd63b13c57d0", "revision_history": [{"58": ""}, {"203": "79c2038917412dd6dfd35218c571cd63b13c57d0"}], "ctags": [{"_type": "tag", "name": "BlockchainClient", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/blockchain.js", "pattern": "/^export class BlockchainClient {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "CHAIN_ID", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/blockchain.js", "pattern": "/^  CHAIN_ID: getEnv('REACT_APP_CHAIN_ID'),$/", "language": "JavaScript", "kind": "property", "scope": "ENV", "scopeKind": "class"}, {"_type": "tag", "name": "DEFAULT_ESCROW_ABI", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/blockchain.js", "pattern": "/^const DEFAULT_ESCROW_ABI = [$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "ENV", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/blockchain.js", "pattern": "/^const ENV = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "ESCROW_ADDRESS", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/blockchain.js", "pattern": "/^  ESCROW_ADDRESS: getEnv('REACT_APP_ESCROW_ADDRESS'),$/", "language": "JavaScript", "kind": "property", "scope": "ENV", "scopeKind": "class"}, {"_type": "tag", "name": "EXPLORER", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/blockchain.js", "pattern": "/^  EXPLORER: getEnv('REACT_APP_BLOCK_EXPLORER_BASE'),$/", "language": "JavaScript", "kind": "property", "scope": "ENV", "scopeKind": "class"}, {"_type": "tag", "name": "connectProvider", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/blockchain.js", "pattern": "/^  connectProvider(signer) {$/", "language": "JavaScript", "kind": "method", "signature": "(signer)", "scope": "BlockchainClient", "scopeKind": "class"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/blockchain.js", "pattern": "/^  constructor({ escrowAddress, escrowAbi, signer } = {}) {$/", "language": "JavaScript", "kind": "method", "signature": "({ escrowAddress, escrowAbi, signer } = {})", "scope": "BlockchainClient", "scopeKind": "class"}, {"_type": "tag", "name": "deposit", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/blockchain.js", "pattern": "/^  async deposit({ wagerId, amountEth, options } = {}) {$/", "language": "JavaScript", "kind": "method", "signature": "({ wagerId, amountEth, options } = {})", "scope": "BlockchainClient", "scopeKind": "class"}, {"_type": "tag", "name": "formatTxLink", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/blockchain.js", "pattern": "/^  formatTxLink(txHash) {$/", "language": "JavaScript", "kind": "method", "signature": "(txHash)", "scope": "BlockchainClient", "scopeKind": "class"}, {"_type": "tag", "name": "getAccount", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/blockchain.js", "pattern": "/^  async getAccount() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "BlockchainClient", "scopeKind": "class"}, {"_type": "tag", "name": "getEnv", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/blockchain.js", "pattern": "/^function getEnv(key) {$/", "language": "JavaScript", "kind": "function", "signature": "(key)"}, {"_type": "tag", "name": "getNetwork", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/blockchain.js", "pattern": "/^  async getNetwork() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "BlockchainClient", "scopeKind": "class"}, {"_type": "tag", "name": "sendEscrowDeposit", "path": "/home/kavia/workspace/code-generation/clash-royale-ethereum-matchmaker-171107-171116/frontend/src/services/blockchain.js", "pattern": "/^export async function sendEscrowDeposit({ signer, matchId, amountEth, escrowAddress = ENV.ESCROW/", "language": "JavaScript", "kind": "function", "signature": "({ signer, matchId, amountEth, escrowAddress = ENV.ESCROW_ADDRESS, escrowAbi = DEFAULT_ESCROW_ABI })"}], "hash": "2b64c278f63d56b93c18305156bb1957", "format-version": 4, "code-base-name": "frontend", "filename": "frontend/src/services/blockchain.js", "fields": [{"name": "CHAIN_ID: getEnv('REACT_APP_CHAIN_ID'),", "scope": "ENV", "scopeKind": "class", "description": "unavailable"}, {"name": "ESCROW_ADDRESS: getEnv('REACT_APP_ESCROW_ADDRESS'),", "scope": "ENV", "scopeKind": "class", "description": "unavailable"}, {"name": "EXPLORER: getEnv('REACT_APP_BLOCK_EXPLORER_BASE'),", "scope": "ENV", "scopeKind": "class", "description": "unavailable"}]}